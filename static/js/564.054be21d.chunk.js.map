{"version":3,"file":"static/js/564.054be21d.chunk.js","mappings":"kSAQA,MA8TA,EA9TaA,KAAM,IAADC,EAEd,MAAOC,EAAYC,IAAiBC,EAAAA,EAAAA,UAAS,KACtCC,EAAWC,IAAgBC,EAAAA,EAAAA,GAAS,CAAC,GACtCC,EAAU,CACZ,CACIC,MAAO,eACPC,UAAW,OACXC,IAAK,QAET,CACIF,MAAO,eACPC,UAAW,MACXC,IAAK,OAET,CACIF,MAAO,eACPC,UAAW,MACXC,IAAK,OAET,CACIF,MAAO,2BACPC,UAAW,WACXC,IAAK,YAET,CACIF,MAAO,eACPC,UAAW,UACXC,IAAK,WAET,CACIF,MAAO,eACPE,IAAK,SACLC,OAASC,IACLC,EAAAA,EAAAA,MAAA,OAAKC,UAAW,eAAeC,SAAA,EAC3BC,EAAAA,EAAAA,KAACC,EAAAA,GAAM,CAACC,QAASA,IAAIC,EAAWP,GAASQ,MAAO,OAAQC,QAAQ,QAAON,SAAC,kBACxEC,EAAAA,EAAAA,KAACC,EAAAA,GAAM,CAACC,QAASA,IAAII,EAAWV,GAASW,KAAK,UAAUC,QAAM,EAAAT,SAAC,uBAMxEU,EAAgBC,IAAqBpB,EAAAA,EAAAA,GAAS,CAAC,IAE/CqB,EAAgBC,IAAqBtB,EAAAA,EAAAA,GAAS,CAAC,IAG/CuB,EAAaC,IAAkB3B,EAAAA,EAAAA,WAAS,IAYxC4B,EAAcC,IAAmB7B,EAAAA,EAAAA,WAAS,IAC1C8B,GAAcC,EAAAA,EAAKC,UACpBhB,EAAcP,IAChBc,GAAkBU,IACdA,EAAMC,KAAOzB,EAAOyB,KACpBD,EAAME,IAAM1B,EAAO0B,IACnBF,EAAMG,IAAM3B,EAAO2B,IACnBH,EAAMI,SAAW5B,EAAO4B,SACxBJ,EAAMK,QAAU7B,EAAO6B,OAAO,IAElC,IAAIC,EAAsB,WAAf9B,EAAO2B,IAAc,EAAI,EACpCN,EAAWU,cAAc,WAAY/B,EAAOyB,MAC5CJ,EAAWU,cAAc,MAAO/B,EAAO0B,KACvCL,EAAWU,cAAc,MAAOD,GAChCT,EAAWU,cAAc,WAAYC,IAAMhC,EAAO4B,WAClDP,EAAWU,cAAc,UAAW/B,EAAO6B,SAC3CT,GAAgB,EAAK,GAUlBa,EAAcC,IAAmB3C,EAAAA,EAAAA,WAAS,GAC3CmB,EAAcV,IAChBgB,GAAkBQ,IACdA,EAAMW,GAAKnC,EAAOmC,EAAE,IAExBD,GAAgB,EAAK,EAuBzB,OAXAE,EAAAA,EAAAA,YAAU,KC5GGC,gBACAC,EAAAA,EAAMC,IAAI,qBD4GnBC,GAAWC,MAAKC,IAAQ,IAADC,EACnB,IAAIC,EAAU,OAAHF,QAAG,IAAHA,GAAS,QAANC,EAAHD,EAAKE,YAAI,IAAAD,OAAN,EAAHA,EAAWE,KACtBpD,GAAa+B,IACTA,EAAMoB,KAAOA,EACbpB,EAAM7B,QAAUA,CAAO,GACzB,GACJ,GACH,KACHyC,EAAAA,EAAAA,YAAU,KAAKU,QAAQC,IAAI1D,EAAW,GAAG,CAACA,KAEnCY,EAAAA,EAAAA,MAAA+C,EAAAA,SAAA,CAAA7C,SAAA,EACHF,EAAAA,EAAAA,MAAA,OAAKC,UAAW,WAAWC,SAAA,EACvBF,EAAAA,EAAAA,MAAA,OAAKC,UAAW,WAAWC,SAAA,EACvBC,EAAAA,EAAAA,KAACC,EAAAA,GAAM,CAACM,KAAK,UAAUL,QApEjB2C,KACd/B,GAAe,EAAK,EAmE+BgC,MAAM9C,EAAAA,EAAAA,KAAC+C,EAAAA,EAAY,IAAKhD,SAAC,kBACpEF,EAAAA,EAAAA,MAAA,OAAKC,UAAW,aAAaC,SAAA,EACzBC,EAAAA,EAAAA,KAACgD,EAAAA,EAAK,CACFC,YAAY,eACZC,KAAM,SACNC,MAAOlE,EACPmE,SAAWC,GAAMnE,EAAcmE,EAAEC,OAAOH,UAE5CnD,EAAAA,EAAAA,KAACC,EAAAA,GAAM,CAACM,KAAK,UAAUuC,MAAM9C,EAAAA,EAAAA,KAACuD,EAAAA,EAAc,IAAKxD,SAAC,wBAGhD,OAATX,QAAS,IAATA,GAAe,QAANJ,EAATI,EAAWoD,YAAI,IAAAxD,OAAN,EAATA,EAAiBwE,QAAS,GACvBxD,EAAAA,EAAAA,KAACyD,EAAAA,EAAK,CAAC3D,UAAW,YAAaP,QAASH,EAAUG,QAASmE,WAAYtE,EAAUoD,QAEjFxC,EAAAA,EAAAA,KAACyD,EAAAA,EAAK,CAAC3D,UAAW,YAAaP,QAASA,QAGhDS,EAAAA,EAAAA,KAAC2D,EAAAA,EAAK,CAACnE,MAAM,uCAASoE,KAAM/C,EAAagD,KAlF5BC,KACbhD,GAAe,EAAM,EAiFoCiD,SA/ExCC,KACjBlD,GAAe,EAAM,EA8E2Df,UAC5EF,EAAAA,EAAAA,MAACqB,EAAAA,EAAI,CACDG,KAAK,QACL4C,SAAU,CACNC,KAAM,GAEVC,WAAY,CACRD,KAAM,IAEVE,MAAO,CACHC,SAAU,KAEdC,cAAe,CACXC,UAAU,GAEdC,aAAa,MACbC,gBAAgB,EAAK1E,SAAA,EAErBC,EAAAA,EAAAA,KAACkB,EAAAA,EAAKwD,KAAI,CACNC,MAAM,eACNtD,KAAK,WACLuD,MAAO,CACH,CACIC,UAAU,EACVC,QAAS,gDAEf/E,UAEFC,EAAAA,EAAAA,KAACgD,EAAAA,EAAK,OAGVhD,EAAAA,EAAAA,KAACkB,EAAAA,EAAKwD,KAAI,CACNC,MAAM,eACNtD,KAAK,MACLuD,MAAO,CACH,CACIC,UAAU,EACVC,QAAS,gDAEf/E,UAEFC,EAAAA,EAAAA,KAAC+E,EAAAA,EAAW,CAAEC,IAAK,EAAGC,IAAK,SAG/BjF,EAAAA,EAAAA,KAACkB,EAAAA,EAAKwD,KAAI,CACNC,MAAM,eACNtD,KAAK,MACLuD,MAAO,CACH,CACIC,UAAU,EACVC,QAAS,gDAEf/E,UAEFF,EAAAA,EAAAA,MAACqF,EAAAA,GAAAA,MAAW,CAAAnF,SAAA,EACRC,EAAAA,EAAAA,KAACkF,EAAAA,GAAK,CAAC/B,MAAO,EAAEpD,SAAC,YACjBC,EAAAA,EAAAA,KAACkF,EAAAA,GAAK,CAAC/B,MAAO,EAAEpD,SAAC,iBAIzBC,EAAAA,EAAAA,KAACkB,EAAAA,EAAKwD,KAAI,CACNC,MAAM,2BACNtD,KAAK,WACLuD,MAAO,CACH,CACIC,UAAU,EACVC,QAAS,gDAEf/E,UAEFC,EAAAA,EAAAA,KAACmF,EAAAA,EAAU,OAGfnF,EAAAA,EAAAA,KAACkB,EAAAA,EAAKwD,KAAI,CACNC,MAAM,eACNtD,KAAK,UACLuD,MAAO,CACH,CACIC,UAAU,EACVC,QAAS,gDAEf/E,UAEFC,EAAAA,EAAAA,KAACgD,EAAAA,EAAK,YAKlBhD,EAAAA,EAAAA,KAAC2D,EAAAA,EAAK,CAACnE,MAAM,uCAASoE,KAAM7C,EAAe8C,KAhJxBuB,KACnBpE,GAAgB,EAAM,EA+I2C+C,SA7I1CsB,KACvBrE,GAAgB,EAAM,EA4IwEjB,UAC1FF,EAAAA,EAAAA,MAACqB,EAAAA,EAAI,CACDG,KAAK,QACL4C,SAAU,CACNC,KAAM,GAEVC,WAAY,CACRD,KAAM,IAEVE,MAAO,CACHC,SAAU,KAEdC,cAAe,CACXC,UAAU,GAEdC,aAAa,MACbc,KAAMrE,EAAWlB,SAAA,EAEjBC,EAAAA,EAAAA,KAACkB,EAAAA,EAAKwD,KAAI,CACNC,MAAM,eACNtD,KAAK,WACLuD,MAAO,CACH,CACIC,UAAU,EACVC,QAAS,gDAEf/E,UAGFC,EAAAA,EAAAA,KAACgD,EAAAA,EAAK,CAACG,MAAO1C,EAAeY,UAGjCrB,EAAAA,EAAAA,KAACkB,EAAAA,EAAKwD,KAAI,CACNC,MAAM,eACNtD,KAAK,MACLuD,MAAO,CACH,CACIC,UAAU,EACVC,QAAS,gDAEf/E,UAEFC,EAAAA,EAAAA,KAAC+E,EAAAA,EAAW,CAAEC,IAAK,EAAGC,IAAK,IAAK9B,MAAO1C,EAAea,SAG1DtB,EAAAA,EAAAA,KAACkB,EAAAA,EAAKwD,KAAI,CACNC,MAAM,eACNtD,KAAK,MACLuD,MAAO,CACH,CACIC,UAAU,EACVC,QAAS,gDAEf/E,UAEFF,EAAAA,EAAAA,MAACqF,EAAAA,GAAAA,MAAW,CAAC/B,MAAO1C,EAAec,IAAIxB,SAAA,EACnCC,EAAAA,EAAAA,KAACkF,EAAAA,GAAK,CAAC/B,MAAO,EAAEpD,SAAC,YACjBC,EAAAA,EAAAA,KAACkF,EAAAA,GAAK,CAAC/B,MAAO,EAAEpD,SAAC,iBAIzBC,EAAAA,EAAAA,KAACkB,EAAAA,EAAKwD,KAAI,CACNC,MAAM,2BACNtD,KAAK,WACLuD,MAAO,CACH,CACIC,UAAU,EACVC,QAAS,gDAEf/E,UAEFC,EAAAA,EAAAA,KAACmF,EAAAA,EAAU,CAAEhC,MAAO1C,EAAee,cAGvCxB,EAAAA,EAAAA,KAACkB,EAAAA,EAAKwD,KAAI,CACNC,MAAM,eACNtD,KAAK,UACLuD,MAAO,CACH,CACIC,UAAU,EACVC,QAAS,gDAEf/E,UAEFC,EAAAA,EAAAA,KAACgD,EAAAA,EAAK,CAACG,MAAO1C,EAAegB,kBAKzCzB,EAAAA,EAAAA,KAAC2D,EAAAA,EAAK,CAACnE,MAAM,uCAASoE,KAAM/B,EAAcgC,KA1NvB0B,KACnBlG,GAAa+B,IACTA,EAAMoB,KAAOpB,EAAMoB,KAAKgD,QAAOC,GAAQA,EAAK1D,KAAOpB,EAAeoB,IAAG,IAEzED,GAAgB,EAAM,EAsN0CiC,SApNzC2B,KACvB5D,GAAgB,EAAM,EAmNuE/B,UACzFC,EAAAA,EAAAA,KAAA,OAAAD,UACIC,EAAAA,EAAAA,KAAA,KAAAD,SAAG,iEAGZ,C","sources":["view/user/User.jsx","axios/api.js"],"sourcesContent":["import {useEffect, useRef, useState} from \"react\";\r\nimport {getUsers} from \"../../axios/api\";\r\nimport \"./User.sass\";\r\nimport {Button, DatePicker, Form, Input, InputNumber, Modal, Radio, Table} from \"antd\";\r\nimport {PlusOutlined, SearchOutlined} from \"@ant-design/icons\";\r\nimport {useImmer} from \"use-immer\";\r\nimport dayjs from \"dayjs\";\r\n\r\nconst User = ()=> {\r\n    // 基础信息\r\n    const [inputValue, setInputValue] = useState(\"\")\r\n    const [usersInfo, setUsersInfo] = useImmer({})\r\n    const columns = [\r\n        {\r\n            title: '姓名',\r\n            dataIndex: 'name',\r\n            key: 'name',\r\n        },\r\n        {\r\n            title: '年龄',\r\n            dataIndex: 'age',\r\n            key: 'age',\r\n        },\r\n        {\r\n            title: '性别',\r\n            dataIndex: 'sex',\r\n            key: 'sex',\r\n        },\r\n        {\r\n            title: '出生日期',\r\n            dataIndex: 'birthday',\r\n            key: 'birthday',\r\n        },\r\n        {\r\n            title: '地址',\r\n            dataIndex: 'address',\r\n            key: 'address',\r\n        },\r\n        {\r\n            title: '操作',\r\n            key: 'action',\r\n            render: (record) => (\r\n                <div className={\"actionButton\"}>\r\n                    <Button onClick={()=>showUpdate(record)} color={\"cyan\"} variant=\"solid\">编辑</Button>\r\n                    <Button onClick={()=>showDelete(record)} type=\"primary\" danger>删除</Button>\r\n                </div>\r\n            ),\r\n        }\r\n    ]\r\n    // 弹窗修改信息\r\n    const [userInfoUpdate, setUserInfoUpdate] = useImmer({})\r\n    // 弹窗删除信息\r\n    const [userInfoDelete, setUserInfoDelete] = useImmer({})\r\n\r\n    // 添加弹窗\r\n    const [isModalOpen, setIsModalOpen] = useState(false);\r\n    const showModal = () => {\r\n        setIsModalOpen(true);\r\n    };\r\n    const handleOk = () => {\r\n        setIsModalOpen(false);\r\n    };\r\n    const handleCancel = () => {\r\n        setIsModalOpen(false);\r\n    };\r\n\r\n    // 修改弹窗\r\n    const [isUpdateOpen, setIsUpdateOpen] = useState(false);\r\n    const [updateForm] = Form.useForm();\r\n    const showUpdate = (record) => {\r\n        setUserInfoUpdate(draft => {\r\n            draft.name = record.name\r\n            draft.age = record.age\r\n            draft.sex = record.sex\r\n            draft.birthday = record.birthday\r\n            draft.address = record.address\r\n        })\r\n        let sign = record.sex === \"男\" ? 1 : 2\r\n        updateForm.setFieldValue(\"username\", record.name)\r\n        updateForm.setFieldValue(\"age\", record.age)\r\n        updateForm.setFieldValue(\"sex\", sign)\r\n        updateForm.setFieldValue(\"birthday\", dayjs(record.birthday))\r\n        updateForm.setFieldValue(\"address\", record.address)\r\n        setIsUpdateOpen(true);\r\n    };\r\n    const handleUpdateOk = () => {\r\n        setIsUpdateOpen(false);\r\n    };\r\n    const handleUpdateCancel = () => {\r\n        setIsUpdateOpen(false);\r\n    };\r\n\r\n    // 删除弹窗\r\n    const [isDeleteOpen, setIsDeleteOpen] = useState(false);\r\n    const showDelete = (record) => {\r\n        setUserInfoDelete(draft => {\r\n            draft.id = record.id\r\n        })\r\n        setIsDeleteOpen(true);\r\n    };\r\n    const handleDeleteOk = () => {\r\n        setUsersInfo(draft => {\r\n            draft.data = draft.data.filter(item => item.id !== userInfoDelete.id)\r\n        })\r\n        setIsDeleteOpen(false);\r\n    };\r\n    const handleDeleteCancel = () => {\r\n        setIsDeleteOpen(false);\r\n    }\r\n\r\n    useEffect(() => {\r\n        getUsers().then(res => {\r\n            let data = res?.data?.list\r\n            setUsersInfo(draft => {\r\n                draft.data = data\r\n                draft.columns = columns\r\n            })\r\n        })\r\n    }, []);\r\n    useEffect(()=>{console.log(inputValue)}, [inputValue])\r\n\r\n    return <>\r\n        <div className={\"homeUser\"}>\r\n            <div className={\"userHead\"}>\r\n                <Button type=\"primary\" onClick={showModal} icon={<PlusOutlined  />}>新增</Button>\r\n                <div className={\"userSearch\"}>\r\n                    <Input\r\n                        placeholder=\"搜索\"\r\n                        size={\"middle\"}\r\n                        value={inputValue}\r\n                        onChange={(e) => setInputValue(e.target.value)}\r\n                    />\r\n                    <Button type=\"primary\" icon={<SearchOutlined /> }>查询</Button>\r\n                </div>\r\n            </div>\r\n            {usersInfo?.data?.length > 0 ?\r\n                <Table className={\"userTable\"} columns={usersInfo.columns} dataSource={usersInfo.data} />\r\n                :\r\n                <Table className={\"userTable\"} columns={columns}/>}\r\n        </div>\r\n        {/* 添加弹窗 */}\r\n        <Modal title=\"添加用户信息\" open={isModalOpen} onOk={handleOk} onCancel={handleCancel}>\r\n            <Form\r\n                name=\"basic\"\r\n                labelCol={{\r\n                    span: 4,\r\n                }}\r\n                wrapperCol={{\r\n                    span: 10,\r\n                }}\r\n                style={{\r\n                    maxWidth: 600,\r\n                }}\r\n                initialValues={{\r\n                    remember: false,\r\n                }}\r\n                autoComplete=\"off\"\r\n                clearOnDestroy={true}\r\n            >\r\n                <Form.Item\r\n                    label=\"姓名\"\r\n                    name=\"username\"\r\n                    rules={[\r\n                        {\r\n                            required: true,\r\n                            message: '请输入你的名字!',\r\n                        },\r\n                    ]}\r\n                >\r\n                    <Input />\r\n                </Form.Item>\r\n\r\n                <Form.Item\r\n                    label=\"年龄\"\r\n                    name=\"age\"\r\n                    rules={[\r\n                        {\r\n                            required: true,\r\n                            message: '请输入你的年龄!',\r\n                        },\r\n                    ]}\r\n                >\r\n                    <InputNumber  min={1} max={100} />\r\n                </Form.Item>\r\n\r\n                <Form.Item\r\n                    label=\"性别\"\r\n                    name=\"sex\"\r\n                    rules={[\r\n                        {\r\n                            required: true,\r\n                            message: '请输入你的性别!',\r\n                        },\r\n                    ]}\r\n                >\r\n                    <Radio.Group >\r\n                        <Radio value={1}>男</Radio>\r\n                        <Radio value={2}>女</Radio>\r\n                    </Radio.Group>\r\n                </Form.Item>\r\n\r\n                <Form.Item\r\n                    label=\"出生日期\"\r\n                    name=\"birtyday\"\r\n                    rules={[\r\n                        {\r\n                            required: true,\r\n                            message: '请输入你的生日!',\r\n                        },\r\n                    ]}\r\n                >\r\n                    <DatePicker  />\r\n                </Form.Item>\r\n\r\n                <Form.Item\r\n                    label=\"地址\"\r\n                    name=\"address\"\r\n                    rules={[\r\n                        {\r\n                            required: true,\r\n                            message: '请输入你的地址!',\r\n                        },\r\n                    ]}\r\n                >\r\n                    <Input />\r\n                </Form.Item>\r\n            </Form>\r\n        </Modal>\r\n        {/* 修改弹窗 */}\r\n        <Modal title=\"修改用户信息\" open={isUpdateOpen}  onOk={handleUpdateOk} onCancel={handleUpdateCancel}>\r\n            <Form\r\n                name=\"basic\"\r\n                labelCol={{\r\n                    span: 4,\r\n                }}\r\n                wrapperCol={{\r\n                    span: 10,\r\n                }}\r\n                style={{\r\n                    maxWidth: 600,\r\n                }}\r\n                initialValues={{\r\n                    remember: false,\r\n                }}\r\n                autoComplete=\"off\"\r\n                form={updateForm}\r\n            >\r\n                <Form.Item\r\n                    label=\"姓名\"\r\n                    name=\"username\"\r\n                    rules={[\r\n                        {\r\n                            required: true,\r\n                            message: '请输入你的名字!',\r\n                        },\r\n                    ]}\r\n\r\n                >\r\n                    <Input value={userInfoUpdate.name}/>\r\n                </Form.Item>\r\n\r\n                <Form.Item\r\n                    label=\"年龄\"\r\n                    name=\"age\"\r\n                    rules={[\r\n                        {\r\n                            required: true,\r\n                            message: '请输入你的年龄!',\r\n                        },\r\n                    ]}\r\n                >\r\n                    <InputNumber  min={1} max={100} value={userInfoUpdate.age} />\r\n                </Form.Item>\r\n\r\n                <Form.Item\r\n                    label=\"性别\"\r\n                    name=\"sex\"\r\n                    rules={[\r\n                        {\r\n                            required: true,\r\n                            message: '请输入你的性别!',\r\n                        },\r\n                    ]}\r\n                >\r\n                    <Radio.Group value={userInfoUpdate.sex}>\r\n                        <Radio value={1}>男</Radio>\r\n                        <Radio value={2}>女</Radio>\r\n                    </Radio.Group>\r\n                </Form.Item>\r\n\r\n                <Form.Item\r\n                    label=\"出生日期\"\r\n                    name=\"birthday\"\r\n                    rules={[\r\n                        {\r\n                            required: true,\r\n                            message: '请输入你的生日!',\r\n                        },\r\n                    ]}\r\n                >\r\n                    <DatePicker  value={userInfoUpdate.birthday}/>\r\n                </Form.Item>\r\n\r\n                <Form.Item\r\n                    label=\"地址\"\r\n                    name=\"address\"\r\n                    rules={[\r\n                        {\r\n                            required: true,\r\n                            message: '请输入你的地址!',\r\n                        },\r\n                    ]}\r\n                >\r\n                    <Input value={userInfoUpdate.address}/>\r\n                </Form.Item>\r\n            </Form>\r\n        </Modal>\r\n        {/* 删除弹窗 */}\r\n        <Modal title=\"删除用户信息\" open={isDeleteOpen} onOk={handleDeleteOk} onCancel={handleDeleteCancel}>\r\n            <div>\r\n                <p>确定删除该用户吗？</p>\r\n            </div>\r\n        </Modal>\r\n    </>\r\n}\r\n\r\nexport default User","import axios from \"axios\";\r\n\r\nconst getUsers = async ()=>{\r\n    return await axios.get('/main/getUserData')\r\n}\r\n\r\nexport {getUsers}"],"names":["User","_usersInfo$data","inputValue","setInputValue","useState","usersInfo","setUsersInfo","useImmer","columns","title","dataIndex","key","render","record","_jsxs","className","children","_jsx","Button","onClick","showUpdate","color","variant","showDelete","type","danger","userInfoUpdate","setUserInfoUpdate","userInfoDelete","setUserInfoDelete","isModalOpen","setIsModalOpen","isUpdateOpen","setIsUpdateOpen","updateForm","Form","useForm","draft","name","age","sex","birthday","address","sign","setFieldValue","dayjs","isDeleteOpen","setIsDeleteOpen","id","useEffect","async","axios","get","getUsers","then","res","_res$data","data","list","console","log","_Fragment","showModal","icon","PlusOutlined","Input","placeholder","size","value","onChange","e","target","SearchOutlined","length","Table","dataSource","Modal","open","onOk","handleOk","onCancel","handleCancel","labelCol","span","wrapperCol","style","maxWidth","initialValues","remember","autoComplete","clearOnDestroy","Item","label","rules","required","message","InputNumber","min","max","Radio","DatePicker","handleUpdateOk","handleUpdateCancel","form","handleDeleteOk","filter","item","handleDeleteCancel"],"sourceRoot":""}